<div class="dashboard">
    <h2 class="dashboard_title">Dashboard</h2>
    <div class="dashboard_item_container" *ngIf="(role$ | async) === 'admin'">
      <div class="box_item"></div>
      <div class="box_item">
        <h4>Weekly billing</h4>
        <span>
          <i class="fa-duotone fa-credit-card"></i>
          {{configService.numberFormat(0)}} Kz</span>
      </div>
      <div class="box_item">
        <h4>total shops</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalShops)}}</span>
        </a>
      </div>
      <div class="box_item">
        <h4>total active orders</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalOrders)}}</span>
        </a>
      </div>
      <div class="box_item">
        <h4>total active products</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalProducts)}}</span>
        </a>
      </div>
    </div>

    <div class="dashboard_item_container" *ngIf="(role$ | async) === 'manager'">
      <div class="box_item" [ngClass]="{
        'manager_color': (role$ | async) === 'manager'
      }"></div>
      <div class="box_item">
        <h4>Weekly billing</h4>
        <span>
          <i class="fa-duotone fa-credit-card"></i>
          {{configService.numberFormat(0)}} Kz</span>
      </div>
      <div class="box_item">
        <h4>total shops</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalShops)}}</span>
        </a>
      </div>
      <div class="box_item">
        <h4>total active orders</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalOrders)}}</span>
        </a>
      </div>
      <div class="box_item">
        <h4>total active products</h4>
        <a href="#">
          <span> {{configService.formatarQuantidade(dashboard_.totalProducts)}}</span>
        </a>
      </div>
    </div>

    <div class="dashboard_item_container" *ngIf="(role$ | async) === 'sales'">
      <div class="box_item" [ngClass]="{
        'sales_color': (role$ | async) === 'sales'
      }">
    </div>
      <div class="box_item">
        <h4>products in stock</h4>
        <span>
          <i class="fa-duotone fa-credit-card"></i>
          {{configService.formatarQuantidade(dashboard.totalProductsInStock)}}</span>
      </div>
      <div class="box_item">
        <h4>total value of products</h4>
        <a href="#">
          <span [ngClass]="{
            'sales_text_color': (role$ | async) === 'sales',
            'manager_text_color': (role$ | async) === 'manager',
        }"> {{configService.numberFormat(dashboard.totalProductsSoldValue)}}</span>
        </a>
      </div>
      <div class="box_item">
        <h4>valor products sold</h4>
        <a href="#">
          <span [ngClass]="{
            'sales_text_color': (role$ | async) === 'sales',
            'manager_text_color': (role$ | async) === 'manager',
        }"> {{configService.numberFormat(0)}} kz</span>
        </a>
      </div>
      <div class="box_item">
        <h4>total active products</h4>
        <a href="#">
          <span [ngClass]="{
            'sales_text_color': (role$ | async) === 'sales',
            'manager_text_color': (role$ | async) === 'manager',
        }"> {{configService.formatarQuantidade(dashboard.totalActiveProducts)}}</span>
        </a>
      </div>
    </div>
    <div class="dashboard_container">
      <h2 class="dashboard_title" style="margin-top: 2rem;">Statistic</h2>
      <div class="wrapper">
        <div class="box_item">
          <grafico-bar-chart></grafico-bar-chart>
        </div>
        <div class="box_item" [ngClass]="{
          'admin_color': (role$ | async) === 'admin',
          'sales_color': (role$ | async) === 'sales',
          'manager_color': (role$ | async) === 'manager',
      }">
          <h2>{{(role$ | async) !== 'sales' ? 'Last Orders' : 'latest sales' }}</h2>

          <ul>
            <li *ngFor="let item of lastOrders">
              <a href="#" class="single_item">
                <span>
                  <i style="color: white;" class="fa-solid fa-flask-round-potion mr-2"></i>
                  {{ item?.name }}
                </span>
                <i style="color: white;" class="fa-solid fa-arrow-up-right"></i>
              </a>
              <span>{{ item?.created_at }}</span>
            </li>
          </ul>
          
        </div>
        <div class="box_item" *ngIf="(role$ | async) !== 'sales'">
          <grafico-pie-chart></grafico-pie-chart>
        </div>
      </div>
    </div>
  </div>